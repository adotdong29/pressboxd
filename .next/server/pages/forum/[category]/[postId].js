(()=>{var e={};e.id=602,e.ids=[602,636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1667:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>S,default:()=>v,getServerSideProps:()=>N,getStaticPaths:()=>j,getStaticProps:()=>y,reportWebVitals:()=>w,routeModule:()=>q,unstable_getServerProps:()=>I,unstable_getServerSideProps:()=>M,unstable_getStaticParams:()=>_,unstable_getStaticPaths:()=>k,unstable_getStaticProps:()=>P});var s={};r.r(s),r.d(s,{default:()=>b,getStaticPaths:()=>f,getStaticProps:()=>g});var a=r(5799),o=r(2755),n=r(8311),i=r(4268),l=r.n(i),c=r(6284),u=r(8732),d=r(431),m=r(2015),h=r(4487),x=r(5512),p=r.n(x);async function f(){return{paths:[],fallback:"blocking"}}async function g({params:e}){let{category:t,postId:r}=e,{data:s,error:a}=await h.N.from("forum_posts").select("*").eq("id",r).single();if(a)return console.error("Error fetching post:",a),{notFound:!0};let{data:o,error:n}=await h.N.from("forum_comments").select("*").eq("post_id",r).order("created_at",{ascending:!0});return n&&console.error("Error fetching comments:",n),{props:{category:t,post:s,comments:o||[]},revalidate:10}}function b({category:e,post:t,comments:r}){let s=(0,d.useRouter)(),[a,o]=(0,m.useState)(""),[n,i]=(0,m.useState)(r||[]),[l,c]=(0,m.useState)(!1),[x,f]=(0,m.useState)(t.likes||0),[g,b]=(0,m.useState)(t.dislikes||0);if(s.isFallback)return(0,u.jsx)("div",{className:"p-4",children:"Loading..."});let v=async e=>{e.preventDefault();let r=h.N.auth.user();if(!r)return;c(!0);let{error:s}=await h.N.from("forum_comments").insert([{post_id:t.id,user_id:r.id,content:a}]);if(s)console.error("Error submitting comment:",s);else{o("");let{data:e,error:r}=await h.N.from("forum_comments").select("*").eq("post_id",t.id).order("created_at",{ascending:!0});r?console.error("Error fetching comments:",r):i(e)}c(!1)},y=async()=>{let{error:e}=await h.N.from("forum_posts").update({likes:x+1}).eq("id",t.id);e||f(x+1)},j=async()=>{let{error:e}=await h.N.from("forum_posts").update({dislikes:g+1}).eq("id",t.id);e||b(g+1)};return(0,u.jsx)("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-4 animate-fadeIn",children:(0,u.jsxs)("div",{className:"container mx-auto",children:[(0,u.jsx)("h1",{className:"text-3xl font-bold mb-4 text-yellow-500",children:t.title}),(0,u.jsx)("p",{className:"mb-4",children:t.content}),t.image_url&&(0,u.jsx)("img",{src:t.image_url,alt:t.title,className:"mb-4 rounded"}),(0,u.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,u.jsxs)("button",{onClick:y,className:"text-yellow-500 hover:underline transition transform hover:scale-105",children:["Like (",x,")"]}),(0,u.jsxs)("button",{onClick:j,className:"text-yellow-500 hover:underline transition transform hover:scale-105",children:["Dislike (",g,")"]})]}),(0,u.jsxs)("section",{className:"mb-4",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold mb-2 text-yellow-500",children:"Comments"}),n.map(e=>(0,u.jsx)("div",{className:"bg-gray-800 p-4 rounded shadow mb-2",children:(0,u.jsx)("p",{children:e.content})},e.id))]}),(0,u.jsxs)("form",{onSubmit:v,className:"mt-4",children:[(0,u.jsx)("textarea",{value:a,onChange:e=>o(e.target.value),className:"w-full p-2 bg-gray-700 text-gray-100 rounded mb-2",placeholder:"Write your comment here...",required:!0}),(0,u.jsx)("button",{type:"submit",className:"py-2 px-4 bg-yellow-500 text-gray-900 font-bold rounded hover:bg-yellow-400 transition transform hover:scale-105",disabled:l,children:l?"Submitting...":"Submit Comment"})]}),(0,u.jsx)("div",{className:"mt-4",children:(0,u.jsxs)(p(),{href:`/forum/${e}`,className:"text-yellow-500 hover:underline transition transform hover:scale-105",children:["← Back to ",e," forum"]})})]})})}let v=(0,n.M)(s,"default"),y=(0,n.M)(s,"getStaticProps"),j=(0,n.M)(s,"getStaticPaths"),N=(0,n.M)(s,"getServerSideProps"),S=(0,n.M)(s,"config"),w=(0,n.M)(s,"reportWebVitals"),P=(0,n.M)(s,"unstable_getStaticProps"),k=(0,n.M)(s,"unstable_getStaticPaths"),_=(0,n.M)(s,"unstable_getStaticParams"),I=(0,n.M)(s,"unstable_getServerProps"),M=(0,n.M)(s,"unstable_getServerSideProps"),q=new a.PagesRouteModule({definition:{kind:o.A.PAGES,page:"/forum/[category]/[postId]",pathname:"/forum/[category]/[postId]",bundlePath:"",filename:""},components:{App:c.default,Document:l()},userland:s})},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4487:(e,t,r)=>{"use strict";let s;r.d(t,{N:()=>s}),console.log("Supabase client initialized:",s=(0,require("@supabase/supabase-js").createClient)("https://okvivuxxoteiwsacyclu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rdml2dXh4b3RlaXdzYWN5Y2x1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzcyNTk0OTYsImV4cCI6MjA1MjgzNTQ5Nn0.PPayNwtAzhuJSV1iHpsoUch2br626djHxLq9pizyU8g",{auth:{persistSession:!1}}))},6284:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(8732);r(7578);var a=r(6814),o=r(2015),n=r(5512),i=r.n(n),l=r(4487),c=r(431);function u(){let{user:e}=(0,a.A)(),t=(0,c.useRouter)(),[r,n]=(0,o.useState)(""),[u,d]=(0,o.useState)(!1),m=async()=>{await l.N.auth.signOut(),t.push("/login")};return(0,s.jsxs)("header",{className:"bg-gray-800 p-4 shadow flex justify-between items-center sticky top-0 z-50 animate-fadeIn",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsx)(i(),{href:"/",className:"text-yellow-500 font-bold text-xl transition transform hover:scale-105",children:"Pressboxd"}),(0,s.jsx)(i(),{href:"/",className:"text-gray-100 hover:text-yellow-500 transition transform hover:scale-105",children:"Dashboard"}),(0,s.jsx)(i(),{href:"/profile",className:"text-gray-100 hover:text-yellow-500 transition transform hover:scale-105",children:"Profile"}),(0,s.jsx)(i(),{href:"/forum",className:"text-gray-100 hover:text-yellow-500 transition transform hover:scale-105",children:"Forums"}),(0,s.jsx)(i(),{href:"/friends",className:"text-gray-100 hover:text-yellow-500 transition transform hover:scale-105",children:"Friends"}),(0,s.jsxs)("div",{className:"relative inline-block",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,s.jsx)("button",{className:"text-gray-100 hover:text-yellow-500 focus:outline-none transition transform hover:scale-105",children:"Sports"}),u&&(0,s.jsx)("div",{className:"absolute left-0 top-full mt-1 w-40 bg-gray-800 border border-gray-700 rounded transition-opacity duration-300",children:["soccer","cricket","hockey","tennis","volleyball","table-tennis","basketball","baseball","rugby","golf"].map(e=>(0,s.jsx)(i(),{href:`/sports/${e}`,children:(0,s.jsx)("span",{className:"block px-4 py-2 hover:bg-gray-700 cursor-pointer capitalize transition transform hover:scale-105",children:e})},e))})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t.push(`/search?q=${encodeURIComponent(r)}`),n("")},className:"flex",children:[(0,s.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"Search users or games",className:"px-2 py-1 rounded bg-gray-700 text-gray-100 focus:outline-none transition duration-300"}),(0,s.jsx)("button",{type:"submit",className:"px-3 py-1 bg-yellow-500 text-gray-900 rounded hover:bg-yellow-400 transition transform hover:scale-105",children:"Search"})]}),e?(0,s.jsx)("button",{onClick:m,className:"text-yellow-500 hover:underline transition transform hover:scale-105",children:"Logout"}):(0,s.jsx)(i(),{href:"/login",className:"text-yellow-500 hover:underline transition transform hover:scale-105",children:"Login"})]})]})}function d({Component:e,pageProps:t}){let r=(0,c.useRouter)(),{user:o}=(0,a.A)(),n="/login"===r.pathname||"/signup"===r.pathname||"/"===r.pathname&&!o;return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900 text-gray-100",children:[!n&&(0,s.jsx)(u,{}),(0,s.jsx)(e,{...t})]})}let m=function({Component:e,pageProps:t}){return(0,s.jsx)(a.O,{children:(0,s.jsx)(d,{Component:e,pageProps:t})})}},6814:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,O:()=>n});var s=r(8732),a=r(2015);r(4487);let o=(0,a.createContext)({user:null,profile:null,loading:!0});function n({children:e}){let[t,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0);return(0,s.jsx)(o.Provider,{value:{user:t,profile:n,loading:l},children:e})}let i=()=>(0,a.useContext)(o)},7578:()=>{},7910:e=>{"use strict";e.exports=require("stream")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[912,225,430],()=>r(1667));module.exports=s})();