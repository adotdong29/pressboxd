(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{6698:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/forum/create",function(){return t(6857)}])},6857:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var l=t(7876),r=t(4232),s=t(5605),n=t(482),o=t(43);let u=["soccer","cricket","hockey","tennis","volleyball","table-tennis","basketball","baseball","rugby","golf"];function i(){let{user:e}=(0,o.A)(),a=(0,s.useRouter)(),[t,i]=(0,r.useState)(u[0]),[c,m]=(0,r.useState)(""),[b,d]=(0,r.useState)(""),[g,f]=(0,r.useState)(null),[h,p]=(0,r.useState)(null),x=async l=>{if(l.preventDefault(),!e)return;let r=null;if(g){let a=g.name.split(".").pop(),t="".concat(e.id,"_").concat(Date.now(),".").concat(a),{error:l}=await n.N.storage.from("forum-images").upload(t,g);if(l){p(l.message);return}r=n.N.storage.from("forum-images").getPublicUrl(t).data.publicUrl}let{error:s}=await n.N.from("forum_posts").insert([{author_id:e.id,category:t,title:c,content:b,image_url:r}]);s?p(s.message):a.push("/forum")};return(0,l.jsx)("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-4 animate-fadeIn",children:(0,l.jsxs)("div",{className:"container mx-auto max-w-lg",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-4 text-yellow-500",children:"Create New Forum Chain"}),h&&(0,l.jsx)("p",{className:"mb-4 text-red-500",children:h}),(0,l.jsxs)("form",{onSubmit:x,className:"bg-gray-800 p-4 rounded shadow transition transform hover:scale-105",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Category (Select Sport):"}),(0,l.jsx)("select",{value:t,onChange:e=>i(e.target.value),className:"w-full p-2 mb-4 bg-gray-700 text-gray-100 rounded",children:u.map(e=>(0,l.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,l.jsx)("label",{className:"block mb-2",children:"Title:"}),(0,l.jsx)("input",{type:"text",value:c,onChange:e=>m(e.target.value),className:"w-full p-2 mb-4 bg-gray-700 text-gray-100 rounded",required:!0}),(0,l.jsx)("label",{className:"block mb-2",children:"Content:"}),(0,l.jsx)("textarea",{value:b,onChange:e=>d(e.target.value),className:"w-full p-2 mb-4 bg-gray-700 text-gray-100 rounded",required:!0}),(0,l.jsx)("label",{className:"block mb-2",children:"Image (optional):"}),(0,l.jsx)("input",{type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&f(e.target.files[0])},className:"mb-4"}),(0,l.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-yellow-500 text-gray-900 font-bold rounded hover:bg-yellow-400 transition transform hover:scale-105",children:"Create Post"})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[593,636,792],()=>a(6698)),_N_E=e.O()}]);