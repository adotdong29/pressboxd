(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{3140:(e,a,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return l(4396)}])},4396:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>i});var r=l(7876),s=l(4232),t=l(5605),n=l(43),o=l(482);function i(){let{user:e,loading:a}=(0,n.A)(),l=(0,t.useRouter)(),[i,u]=(0,s.useState)({username:"",bio:"",avatar_url:""}),[c,d]=(0,s.useState)(!0),[m,f]=(0,s.useState)("");(0,s.useEffect)(()=>{a||e?e&&async function(){let{data:a,error:l}=await o.N.from("profiles").select("*").eq("id",e.id).single();l?console.error("Error fetching profile:",l):u(a),d(!1)}():l.push("/login")},[e,a,l]);let p=async e=>{e.preventDefault();let a={...i,updated_at:new Date},{error:l}=await o.N.from("profiles").upsert(a,{returning:"minimal"});l?f("Error updating profile."):f("Profile updated successfully!")};return a||c?(0,r.jsx)("div",{className:"p-4",children:"Loading..."}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-4",children:(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4 text-yellow-500",children:"Your Profile"}),m&&(0,r.jsx)("p",{className:"mb-4",children:m}),(0,r.jsxs)("form",{onSubmit:p,className:"bg-gray-800 p-4 rounded shadow",children:[(0,r.jsx)("label",{className:"block mb-2",children:"Username"}),(0,r.jsx)("input",{type:"text",value:i.username||"",onChange:e=>u({...i,username:e.target.value}),className:"w-full p-2 mb-4 bg-gray-700 text-gray-100 rounded"}),(0,r.jsx)("label",{className:"block mb-2",children:"Bio"}),(0,r.jsx)("textarea",{value:i.bio||"",onChange:e=>u({...i,bio:e.target.value}),className:"w-full p-2 mb-4 bg-gray-700 text-gray-100 rounded"}),(0,r.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-yellow-500 text-gray-900 font-bold rounded hover:bg-yellow-400",children:"Update Profile"})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[593,636,792],()=>a(3140)),_N_E=e.O()}]);