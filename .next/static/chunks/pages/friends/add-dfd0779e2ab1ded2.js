(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{4904:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/friends/add",function(){return r(6056)}])},6056:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var n=r(7876),t=r(4232),a=r(43),l=r(482),i=r(5605);function d(){let{user:e}=(0,a.A)(),s=(0,i.useRouter)(),[r,d]=(0,t.useState)(""),[u,o]=(0,t.useState)([]),[c,m]=(0,t.useState)(null),f=async e=>{if(e.preventDefault(),!r)return;let{data:s,error:n}=await l.N.from("profiles").select("*").ilike("username","%".concat(r,"%"));n?m(n.message):o(s)},h=async r=>{if(r===e.id){m("You cannot add yourself!");return}let{error:n}=await l.N.from("friends").insert([{user_id:e.id,friend_id:r}]);n?m(n.message):s.push("/friends")};return(0,n.jsx)("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-4 animate-fadeIn",children:(0,n.jsxs)("div",{className:"container mx-auto max-w-md",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-4 text-yellow-500",children:"Find Friends"}),c&&(0,n.jsx)("p",{className:"mb-4 text-red-500",children:c}),(0,n.jsxs)("form",{onSubmit:f,className:"mb-4",children:[(0,n.jsx)("input",{type:"text",value:r,onChange:e=>d(e.target.value),placeholder:"Search by username...",className:"w-full p-2 mb-4 bg-gray-700 text-gray-100 rounded",required:!0}),(0,n.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-yellow-500 text-gray-900 font-bold rounded hover:bg-yellow-400 transition transform hover:scale-105",children:"Search"})]}),u.length>0?(0,n.jsx)("ul",{children:u.map(e=>(0,n.jsxs)("li",{className:"mb-2 flex justify-between items-center",children:[(0,n.jsx)("span",{children:e.username}),(0,n.jsx)("button",{onClick:()=>h(e.id),className:"px-2 py-1 bg-yellow-500 text-gray-900 rounded hover:bg-yellow-400 transition transform hover:scale-105",children:"Add Friend"})]},e.id))}):(0,n.jsx)("p",{children:"No users found."})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[593,636,792],()=>s(4904)),_N_E=e.O()}]);